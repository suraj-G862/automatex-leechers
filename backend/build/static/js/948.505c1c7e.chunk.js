"use strict";(self.webpackChunkIIT_Bhilai=self.webpackChunkIIT_Bhilai||[]).push([[948],{948:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(791),r=s(418),l=s(689),d=s(659),n=s(355),o=s(85),c=s(369),i=s(282),x=s(380),m=s(184);const h=()=>{const{user:e}=(0,a.useContext)(r.Z),[t,s]=(0,a.useState)([]),[h,p]=(0,a.useState)("");(0,a.useEffect)((()=>{(async()=>{try{const t=await d.Z.get("staff/approve/"+e.department);s(t.data)}catch(t){p(t)}})()}),[e]);return(0,m.jsx)(m.Fragment,{children:"HOD"===e.role?(0,m.jsxs)("main",{className:"staff__approval",children:[(0,m.jsx)("h2",{className:"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl",children:"Approve Staff"}),(0,m.jsxs)("h3",{className:"text-2xl font-semibold",children:["Department: ",e.department]}),(0,m.jsxs)("form",{children:[t.length?(0,m.jsx)("div",{className:"my-4 w-full overflow-auto rounded-md border-2 border-slate-900 dark:border-slate-500 dark:p-[1px]  ",children:(0,m.jsxs)("table",{className:"w-full",children:[(0,m.jsx)(x.x,{Headers:["Name","Email","Username","Approve","Reject"],AdditionalRowClasses:"text-left",AdditionalHeaderClasses:"last:text-center secondLast"}),(0,m.jsx)("tbody",{children:null===t||void 0===t?void 0:t.map(((e,s)=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.name}),(0,m.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.email}),(0,m.jsx)("td",{className:"border-t-[1px] border-slate-400 p-2",children:e.username}),(0,m.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,m.jsx)("button",{type:"button",id:s,onClick:e=>(async e=>{const s=e.currentTarget.id,a=t[s];a.role="teacher";try{const e=await d.Z.patch("/staff/"+a._id,{id:a._id,role:a.role});t.splice(s,1),o.Am.success(e.data.message),p("")}catch(r){p(r)}})(e),className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-violet-900 ",children:(0,m.jsx)(n.wEH,{})})}),(0,m.jsx)("td",{className:"border-t-[1px] border-slate-400 p-0",children:(0,m.jsx)("button",{className:"m-0 flex h-auto w-full justify-center bg-transparent  py-3 text-xl duration-200 text-violet-400 hover:text-white hover:bg-red-600 ",type:"button",id:s,onClick:e=>(async e=>{const s=t[e.currentTarget.id]._id;try{const a=await d.Z.delete("/staff/"+s);t.splice(e.currentTarget.id,1),o.Am.success(a.data.message,{icon:e=>{let{theme:t,type:s}=e;return(0,m.jsx)(n.Xm5,{})}})}catch(a){o.Am.error(a.message)}})(e),children:(0,m.jsx)(n.Xm5,{})})})]},s)))})]})}):"",!t.length&&!h&&(0,m.jsx)(c.Z,{})]}),h?(0,m.jsx)(i.Z,{error:h}):""]}):(0,m.jsx)(l.Fg,{to:"/dash"})})}}}]);
//# sourceMappingURL=948.505c1c7e.chunk.js.map