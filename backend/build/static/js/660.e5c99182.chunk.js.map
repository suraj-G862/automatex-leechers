{"version":3,"file":"static/js/660.e5c99182.chunk.js","mappings":"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","sources":["Components/Forms/PaperForm.js"],"sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"../../config/api/axios\";\r\nimport { useNavigate, Navigate } from \"react-router-dom\";\r\nimport UserContext from \"../../Hooks/UserContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { FaPlus } from \"react-icons/fa\";\r\nimport ErrorStrip from \"../ErrorStrip\";\r\n\r\nconst PaperForm = () => {\r\n  const { user } = useContext(UserContext);\r\n  const [newPaper, setNewPaper] = useState({\r\n    department: user.department,\r\n    paper: \"\",\r\n    year: \"2023\",\r\n    students: [],\r\n    semester: \"Select Semester\",\r\n    teacher: \"\",\r\n  });\r\n  const [teachers, setTeachers] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch staffs\r\n  useEffect(() => {\r\n    const getTeachers = async () => {\r\n      const list = await axios.get(\"/staff/list/\" + user.department);\r\n      setTeachers(list.data);\r\n    };\r\n    getTeachers();\r\n  }, [user]);\r\n\r\n  const addPaper = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post(\"paper\", JSON.stringify(newPaper));\r\n      navigate(\"./..\");\r\n      toast.success(response.data.message);\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  const handleFormChange = (e) => {\r\n    setNewPaper({\r\n      ...newPaper,\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user.role === \"HOD\" ? (\r\n        <main className=\"paper\">\r\n          <h2 className=\"mb-2 mt-3 whitespace-break-spaces text-4xl font-bold text-violet-950 underline decoration-inherit decoration-2 underline-offset-4 dark:mt-0 dark:text-slate-400 md:text-6xl\">\r\n            Add Paper\r\n          </h2>\r\n          <form className=\"w-full md:w-1/3\">\r\n            <label htmlFor=\"department\">Department:</label>\r\n            <input\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              name=\"department\"\r\n              type=\"text\"\r\n              required\r\n              id=\"department\"\r\n              value={newPaper.department}\r\n              disabled\r\n            />\r\n            <label htmlFor=\"paper\">Paper:</label>\r\n            <input\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              type=\"text\"\r\n              name=\"paper\"\r\n              id=\"paper\"\r\n              value={newPaper.paper}\r\n              required\r\n              onChange={(e) => handleFormChange(e)}\r\n            />\r\n            <label htmlFor=\"semester\">Semester:</label>\r\n            <select\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              id=\"semester\"\r\n              value={newPaper.semester}\r\n              required\r\n              onChange={(e) => handleFormChange(e)}\r\n            >\r\n              <option defaultValue hidden>\r\n                Select Semester\r\n              </option>\r\n              <option value=\"I\">I</option>\r\n              <option value=\"II\">II</option>\r\n              <option value=\"III\">III</option>\r\n              <option value=\"IV\">IV</option>\r\n              <option value=\"V\">V</option>\r\n              <option value=\"VI\">VI</option>\r\n            </select>\r\n            <label htmlFor=\"year\">Year:</label>\r\n            <input\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              type=\"number\"\r\n              min=\"2000\"\r\n              max=\"2030\"\r\n              step=\"1\"\r\n              required\r\n              id=\"year\"\r\n              value={newPaper.year}\r\n              onChange={(e) => handleFormChange(e)}\r\n            />\r\n            <label htmlFor=\"teacher\">Teacher:</label>\r\n            <select\r\n              className=\"mb-4 block h-10 w-full rounded-md border-[1.5px] border-solid border-slate-400 p-1 pl-2 outline-none selection:border-slate-200 focus:border-violet-900 dark:border-slate-200 dark:caret-inherit dark:focus:border-violet-400 dark:active:border-violet-400\"\r\n              required\r\n              id=\"teacher\"\r\n              name=\"teacher\"\r\n              value={newPaper.teacher}\r\n              onChange={(e) => handleFormChange(e)}\r\n            >\r\n              <option defaultValue hidden>\r\n                Select Teacher\r\n              </option>\r\n              {teachers?.map((teacher) => (\r\n                <option key={teacher._id} value={teacher._id}>\r\n                  {teacher.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button\r\n              className=\"mb-4 flex h-10 w-auto items-center gap-2 rounded-md border-[1.5px] border-solid border-violet-900 bg-slate-800 px-6 py-2 font-semibold tracking-wide text-slate-200 hover:bg-violet-900 focus:bg-violet-900 dark:border-violet-300 dark:bg-violet-900 dark:text-violet-100 dark:hover:bg-slate-900\"\r\n              type=\"submit\"\r\n              onClick={(e) => addPaper(e)}\r\n            >\r\n              <FaPlus />\r\n              Add\r\n            </button>\r\n          </form>\r\n          {error ? <ErrorStrip error={error} /> : \"\"}\r\n        </main>\r\n      ) : (\r\n        <Navigate to=\"/\" replace={true} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PaperForm;\r\n"],"names":["PaperForm","user","useContext","UserContext","newPaper","setNewPaper","useState","department","paper","year","students","semester","teacher","teachers","setTeachers","error","setError","navigate","useNavigate","useEffect","async","list","axios","get","data","getTeachers","handleFormChange","e","target","id","value","_jsx","_Fragment","children","role","_jsxs","className","htmlFor","name","type","required","disabled","onChange","defaultValue","hidden","min","max","step","map","_id","onClick","preventDefault","response","post","JSON","stringify","toast","success","message","err","addPaper","FaPlus","ErrorStrip","Navigate","to","replace"],"sourceRoot":""}